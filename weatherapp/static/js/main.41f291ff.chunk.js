(this.webpackJsonpweather_app=this.webpackJsonpweather_app||[]).push([[0],{17:function(e){e.exports=JSON.parse('{"weather":"d9652f22211c07078690561adef506b5","search":"67O7K5tey64BWxQDYd9cCCmbFYc4rdaY4zyXZKbSYJs"}')},40:function(e,t,a){e.exports=a(94)},45:function(e,t,a){},64:function(e,t,a){},94:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(36),i=a.n(r),s=(a(45),a(18)),l=a.n(s),o=a(21),m=a(7),u=a(8),h=a(10),p=a(9),d=a(11),f=a(16),E=a.n(f),y=a(17),b=(a(64),a(22)),v=a(14),g=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={city:"",cities:[]},a.handleInputChange=function(e){var t=e.target.value;a.setState({city:t}),t.length>=1&&a.fetchCities(t)},a.fetchCities=function(e){E.a.get("https://autocomplete.geocoder.ls.hereapi.com/6.2/suggest.json?apiKey=".concat(y.search,"&query=").concat(e)).then((function(e){console.log(e.data.suggestions);var t=e.data.suggestions.filter((function(e){if("city"===e.matchLevel)return e}));a.setState({cities:t})}))},a.displayCitySuggestions=function(){var e=a.state.cities.map((function(e,t){return c.a.createElement("p",{key:e+t,onClick:function(){a.setState({city:e.address.city,cities:[]},(function(){return a.handleSearch()}))}},e.address.city,", ",e.address.country)}));return c.a.createElement("ul",{className:"citySuggestions"},e)},a.handleSearch=function(){a.setState({cities:[]}),a.props.handleSearchData(a.state.city),document.querySelector("input").value=""},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"searchContainer"},c.a.createElement("input",{placeholder:"Search by City",onChange:function(t){return e.handleInputChange(t)}}),c.a.createElement("button",{onClick:function(){return e.handleSearch()}},"Search"),this.displayCitySuggestions())}}]),t}(n.Component),w=a(1),k=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).displayWeatherIcon=function(e){var t;switch(e){case"Clouds":t=c.a.createElement(w.a,{className:"mainIcon"});break;case"Clear":t=c.a.createElement(w.b,{className:"mainIcon"});break;case"Rain":t=c.a.createElement(w.e,{className:"mainIcon"});break;case"Snow":t=c.a.createElement(w.g,{className:"mainIcon"});break;case"Drizzle":t=c.a.createElement(w.f,{className:"mainIcon"});break;case"Thunderstorm":t=c.a.createElement(w.j,{className:"mainIcon"});break;default:t=c.a.createElement(w.c,{className:"mainIcon"})}return t},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.temp,a=e.desc,n=e.city,r=e.main,i=e.feelsLike,s=e.humidity,l=e.wind;return c.a.createElement("div",{className:"currentWeather"},c.a.createElement("h1",null,n),this.displayWeatherIcon(r),c.a.createElement("div",{className:"currentMainText"},c.a.createElement("h2",{className:"temp"},t," \xb0C"),c.a.createElement("p",null,a)),c.a.createElement("div",{className:"currentWeatherItems"},c.a.createElement("div",null,c.a.createElement(w.i,{className:"currIcon"}),c.a.createElement("p",null," Feels like"),c.a.createElement("h3",{className:"temp"},i," \xb0C")),c.a.createElement("div",null,c.a.createElement(w.h,{className:"currIcon"}),c.a.createElement("p",null,"Wind"),c.a.createElement("h3",null,l," m/s")),c.a.createElement("div",null,c.a.createElement(w.d,{className:"currIcon"}),c.a.createElement("p",null,"Humidity"),c.a.createElement("h3",null,s))))}}]),t}(n.Component),N=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).convertDate=function(e){return new Date(1e3*e).toDateString().slice(0,3)},a.DisplayIcon=function(e){var t;switch(e){case"Clouds":t=c.a.createElement(w.a,{className:"icon"});break;case"Clear":t=c.a.createElement(w.b,{className:"icon"});break;case"Rain":t=c.a.createElement(w.e,{className:"icon"});break;case"Snow":t=c.a.createElement(w.g,{className:"icon"});break;case"Drizzle":t=c.a.createElement(w.f,{className:"icon"});break;case"Thunderstorm":t=c.a.createElement(w.j,{className:"icon"});break;default:t=c.a.createElement(w.c,{className:"icon"})}return t},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.forecast;return c.a.createElement("div",{className:"forecast"},c.a.createElement("h2",null,this.convertDate(e.dt)),c.a.createElement("p",null," ",e.weather[0].description),this.DisplayIcon(e.weather[0].main),c.a.createElement("div",null,c.a.createElement(w.i,{className:"smallIcon"}),c.a.createElement("h3",null,e.main.temp," \xb0C")),c.a.createElement("div",null," ",c.a.createElement(w.h,{className:"smallIcon"}),c.a.createElement("p",null,e.wind.speed," m/s")))}}]),t}(n.Component),j=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={forecastList:[],isLoading:!0},a.displayWeatherIcon=function(e){var t;switch(e){case"Clouds":t=c.a.createElement(w.a,{className:"icon"});break;case"Clear":t=c.a.createElement(w.b,{className:"icon"});break;case"Rain":t=c.a.createElement(w.e,{className:"icon"});break;case"Snow":t=c.a.createElement(w.g,{className:"icon"});break;case"Drizzle":t=c.a.createElement(w.f,{className:"icon"});break;case"Thunderstorm":t=c.a.createElement(w.j,{className:"icon"});break;default:t=c.a.createElement(w.c,{className:"icon"})}return t},a.convertDate=function(e){return new Date(1e3*e).toDateString().slice(0,3)},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(o.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("https://api.openweathermap.org/data/2.5/forecast?q=".concat(this.props.city,"&APPID=").concat(y.weather,"&units=metric"));case 2:t=e.sent,a=t.data.list.filter((function(e,t){if(t%8===0)return e})),this.setState({forecastList:a,isLoading:!1});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.city,t=this.state.forecastList;return c.a.createElement("div",{className:"fiveDayForecast"},c.a.createElement("h1",null,e),c.a.createElement("h2",null,"5 day forecast"),c.a.createElement("div",{className:"forecastList"},t.map((function(e,t){return c.a.createElement(N,{key:"forecast"+t,forecast:e})}))))}}]),t}(n.Component),O=a(37),C=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"loader"},c.a.createElement(O.SyncLoader,{css:"\n  position:absolute;\n  top:50%;\n  left:50%;\n  margin: auto;\n",color:"#312BB7"}))}}]),t}(n.Component),S=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={city:"Copenhagen",temp:"",desc:"",main:"",humidity:"",wind:"",iconUrl:"",feelsLike:"",isLoading:!0},a.fetchWeatherData=function(e){E.a.get("https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&APPID=").concat(y.weather,"&units=metric")).then((function(e){console.log("weather",e.data);var t="https://openweathermap.org/img/wn/"+e.data.weather[0].icon+"@2x.png";a.setState({desc:e.data.weather[0].description,temp:e.data.main.temp,main:e.data.weather[0].main,humidity:e.data.main.humidity,wind:e.data.wind.speed,iconUrl:t,feelsLike:e.data.main.feels_like,isLoading:!1})}))},a.onSearch=function(e){a.setState({city:e}),a.fetchWeatherData(e)},a.isLoading=function(){if(a.state.isLoading)return c.a.createElement(C,null)},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.fetchWeatherData(this.state.city);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.temp,a=e.desc,n=e.city,r=e.iconUrl,i=e.main,s=e.wind,l=e.humidity,o=e.feelsLike;return c.a.createElement(b.a,null,this.isLoading(),c.a.createElement("div",{className:"app"},c.a.createElement("nav",null,c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement(b.b,{activeClassName:"selected",exact:!0,to:"/weatherapp"},"Today")),c.a.createElement("li",null,c.a.createElement(b.b,{activeClassName:"selected",to:"/weatherapp/forecast"},"5 Day Forecast")),c.a.createElement(g,{handleSearchData:this.onSearch}))),c.a.createElement(v.c,null,c.a.createElement(v.a,{exact:!0,path:"/weatherapp",component:function(e){return c.a.createElement(k,Object.assign({},e,{iconUrl:r,wind:s,main:i,feelsLike:o,city:n,temp:t,humidity:l,desc:a}))}}),c.a.createElement(v.a,{path:"/weatherapp/forecast",component:function(e){return c.a.createElement(j,Object.assign({},e,{city:n}))}}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[40,1,2]]]);
//# sourceMappingURL=main.41f291ff.chunk.js.map